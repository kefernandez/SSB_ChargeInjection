Version 4
SHEET 1 1656 1008
WIRE -592 -176 -624 -176
WIRE -448 -176 -592 -176
WIRE -416 -176 -448 -176
WIRE -304 -176 -336 -176
WIRE -208 -176 -304 -176
WIRE -112 -176 -208 -176
WIRE 16 -176 -48 -176
WIRE 112 -176 16 -176
WIRE 256 -176 176 -176
WIRE 368 -176 256 -176
WIRE 496 -176 432 -176
WIRE 592 -176 496 -176
WIRE 720 -176 656 -176
WIRE 800 -176 720 -176
WIRE 960 -176 864 -176
WIRE 1008 -176 960 -176
WIRE 1152 -176 1088 -176
WIRE 1312 -176 1152 -176
WIRE 640 -128 640 -144
WIRE -448 -112 -448 -176
WIRE -304 -112 -304 -176
WIRE -64 -112 -64 -144
WIRE 160 -112 160 -144
WIRE 416 -112 416 -144
WIRE 848 -112 848 -144
WIRE -64 -96 -64 -112
WIRE 160 -96 160 -112
WIRE 416 -96 416 -112
WIRE 848 -96 848 -112
WIRE -304 -32 -304 -48
WIRE 1312 -32 1312 -176
WIRE -624 -16 -624 -176
WIRE 16 -16 16 -176
WIRE 256 -16 256 -176
WIRE 496 -16 496 -176
WIRE 720 -16 720 -176
WIRE 1152 -16 1152 -176
WIRE -208 0 -208 -176
WIRE -448 16 -448 -48
WIRE -304 16 -304 -32
WIRE -448 128 -448 96
WIRE -304 128 -304 96
WIRE -304 128 -448 128
WIRE -448 176 -448 128
WIRE -80 176 -80 160
WIRE 128 176 128 160
WIRE 384 176 384 160
WIRE 608 176 608 160
WIRE 816 176 816 160
WIRE -80 192 -80 176
WIRE 128 192 128 176
WIRE 384 192 384 176
WIRE 608 192 608 176
WIRE 816 192 816 176
WIRE -624 224 -624 64
WIRE -448 224 -624 224
WIRE -416 224 -448 224
WIRE -304 224 -336 224
WIRE -208 224 -208 64
WIRE -208 224 -304 224
WIRE -96 224 -208 224
WIRE 16 224 16 48
WIRE 16 224 -32 224
WIRE 112 224 16 224
WIRE 256 224 256 48
WIRE 256 224 176 224
WIRE 368 224 256 224
WIRE 496 224 496 48
WIRE 496 224 432 224
WIRE 592 224 496 224
WIRE 720 224 720 48
WIRE 720 224 656 224
WIRE 800 224 720 224
WIRE 960 224 960 -176
WIRE 960 224 864 224
WIRE 1152 224 1152 48
WIRE 1312 224 1312 48
WIRE 1312 224 1152 224
WIRE -624 240 -624 224
WIRE 1312 240 1312 224
WIRE -448 288 -448 224
WIRE -304 288 -304 224
WIRE -304 368 -304 352
WIRE -448 416 -448 352
WIRE -304 416 -304 368
WIRE -848 480 -896 480
WIRE -736 480 -768 480
WIRE -448 528 -448 496
WIRE -304 528 -304 496
WIRE -304 528 -448 528
WIRE -896 544 -896 480
WIRE -736 560 -736 480
WIRE -448 576 -448 528
FLAG -624 240 0
FLAG 1312 240 0
FLAG -592 -176 in
FLAG 960 -176 sw
FLAG 1152 -176 out
FLAG 128 176 PWM2n
FLAG 416 -112 PWM3
FLAG 384 176 PWM3n
FLAG -64 -112 PWM1
FLAG -80 176 PWM1n
FLAG 608 176 PWM4n
FLAG 160 -112 PWM2
FLAG 848 -112 PWM5
FLAG 816 176 PWM5n
FLAG 16 -176 s1
FLAG 256 -176 s2
FLAG 496 -176 s3
FLAG 720 -176 s4
FLAG 720 224 s5
FLAG 496 224 s6
FLAG 256 224 s7
FLAG 16 224 s8
FLAG -448 176 COM
FLAG -304 -32 Vx
FLAG -448 576 COM
FLAG -304 368 Vy
FLAG -896 544 0
FLAG -736 560 COM
FLAG -304 912 0
FLAG -304 832 PWM1
FLAG -160 912 0
FLAG -160 832 PWM1n
FLAG -16 912 0
FLAG -16 832 PWM2
FLAG 128 912 0
FLAG 128 832 PWM2n
FLAG 272 912 0
FLAG 272 832 PWM3
FLAG 416 912 0
FLAG 416 832 PWM3n
FLAG 544 912 0
FLAG 544 832 PWM4
FLAG 688 912 0
FLAG 688 832 PWM4n
FLAG 816 912 0
FLAG 816 832 PWM5
FLAG 960 832 PWM5n
FLAG 640 -128 PWM4
FLAG 960 912 0
FLAG 80 576 0
FLAG 80 496 VcmuV
FLAG 400 576 0
FLAG 400 496 VdmuV
FLAG 80 416 0
FLAG 80 336 Vcm
FLAG 400 416 0
FLAG 400 336 Vdm
SYMBOL voltage -624 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vin}
SYMBOL ind 992 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {Lo}
SYMATTR SpiceLine Rser=9.33m
SYMBOL cap 1136 -16 R0
SYMATTR InstName C1
SYMATTR Value {Cout}
SYMATTR SpiceLine Rser=1m
SYMBOL cap 240 -16 R0
SYMATTR InstName C2
SYMATTR Value {Cf}
SYMATTR SpiceLine Rser=4.3m
SYMBOL cap 0 -16 R0
SYMATTR InstName C3
SYMATTR Value {Cf}
SYMATTR SpiceLine Rser=4.3m
SYMBOL cap 480 -16 R0
SYMATTR InstName C4
SYMATTR Value {Cf}
SYMATTR SpiceLine Rser=4.3m
SYMBOL cap 704 -16 R0
SYMATTR InstName C5
SYMATTR Value {Cf}
SYMATTR SpiceLine Rser=4.3m
SYMBOL current 1312 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {Iout}
SYMBOL IdealSW -80 -160 R0
SYMATTR InstName X11
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 144 -160 R0
SYMATTR InstName X12
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 400 -160 R0
SYMATTR InstName X13
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 624 -160 R0
SYMATTR InstName X14
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 832 -160 R0
SYMATTR InstName X15
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW -64 208 R180
SYMATTR InstName X16
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 144 208 R180
SYMATTR InstName X17
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 400 208 R180
SYMATTR InstName X18
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 624 208 R180
SYMATTR InstName X19
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL IdealSW 832 208 R180
SYMATTR InstName X20
SYMATTR SpiceLine Rdson = {Rdson}
SYMBOL res -432 112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 5
SYMBOL res -288 112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 50
SYMBOL ind -432 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 50µ
SYMBOL cap -464 -112 R0
SYMATTR InstName C6
SYMATTR Value 8µ
SYMBOL cap -320 -112 R0
SYMATTR InstName C7
SYMATTR Value 250n
SYMBOL res -432 512 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 5
SYMBOL res -288 512 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 50
SYMBOL ind -432 240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 50µ
SYMBOL cap -464 288 R0
SYMATTR InstName C8
SYMATTR Value 8µ
SYMBOL cap -320 288 R0
SYMATTR InstName C9
SYMATTR Value 250n
SYMBOL res -864 496 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 1G
SYMBOL voltage -304 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 1n 1n {D*T} {T})
SYMATTR InstName V2
SYMBOL voltage -160 816 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 5 {D*T+Td} 1n 1n {T-D*T-2*Td} {T})
SYMATTR InstName V3
SYMBOL voltage -16 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps} 1n 1n {D*T} {T})
SYMATTR InstName V4
SYMBOL voltage 128 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps+D*T+Td} 1n 1n {T-D*T-2*Td} {T})
SYMATTR InstName V5
SYMBOL voltage 272 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*2} 1n 1n {D*T} {T})
SYMATTR InstName V6
SYMBOL voltage 416 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*2+D*T+Td} 1n 1n {T-D*T-2*Td} {T})
SYMATTR InstName V7
SYMBOL voltage 544 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*3} 1n 1n {D*T} {T})
SYMATTR InstName V8
SYMBOL voltage 688 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*3+D*T+Td} 1n 1n {T-D*T-2*Td} {T})
SYMATTR InstName V9
SYMBOL voltage 816 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*4} 1n 1n {D*T} {T})
SYMATTR InstName V10
SYMBOL voltage 960 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 {Tps*4+D*T+Td} 1n 1n {T-D*T-2*Td} {T})
SYMATTR InstName V11
SYMBOL cap -224 0 R0
SYMATTR InstName C11
SYMATTR Value {Cin}
SYMBOL bv 80 480 R0
SYMATTR InstName B1
SYMATTR Value V={(V(Vx,com)+V(Vy,com))*1e6}
SYMBOL bv 400 480 R0
SYMATTR InstName B2
SYMATTR Value V={(V(Vx,com)-V(Vy,com))*0.5e6}
SYMBOL bv 80 320 R0
SYMATTR InstName B3
SYMATTR Value V={(V(Vx,com)+V(Vy,com))}
SYMBOL bv 400 320 R0
SYMATTR InstName B4
SYMATTR Value V={(V(Vx,com)-V(Vy,com))*0.5}
TEXT -864 -568 Left 2 !.param Vin=400 Iout=2 Lo=10u Cout=2u Rdson=10m Cf=1u Cin=1u\n.param fs=150k T=1/fs D=0.25 Td=20n Tps=1/5*T\n;.ic V(s1,s8)={Vin*4/5} V(s2,s7)={Vin*3/5} V(s3,s6)={Vin*2/5} V(s4,s5)={Vin*1/5} V(out)={Vin*D}
TEXT -856 -416 Left 2 !.tran 0 10m {10m-5/fs} {0.01/fs} startup
